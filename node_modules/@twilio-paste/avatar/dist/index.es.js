var b=Object.defineProperty,H=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var s=Object.getOwnPropertySymbols;var u=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var f=(e,t,n)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&f(e,n,t[n]);if(s)for(var n of s(t))z.call(t,n)&&f(e,n,t[n]);return e},m=(e,t)=>H(e,O(t));var d=(e,t)=>{var n={};for(var o in e)u.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&s)for(var o of s(e))t.indexOf(o)<0&&z.call(e,o)&&(n[o]=e[o]);return n};import*as r from"react";import*as a from"prop-types";import{Text as C}from"@twilio-paste/text";import{Box as c,safelySpreadBoxProps as E}from"@twilio-paste/box";import{isIconSizeTokenProp as F}from"@twilio-paste/style-props";var g=e=>e.split(" ").map(t=>t.slice(0,1)).reduce((t,n,o,i)=>o===0||o===i.length-1?`${t}${n}`:t,""),S=e=>{if(typeof e=="string"&&e.includes("sizeIcon"))return e.replace("sizeIcon","lineHeight");throw new Error("[Avatar]: size must be of type IconSizeOptions.")},h=e=>{if(typeof e=="string"&&e.includes("sizeIcon"))switch(e){case"sizeIcon10":case"sizeIcon20":case"sizeIcon30":case"sizeIcon40":case"sizeIcon50":case"sizeIcon60":default:return"fontSize10";case"sizeIcon70":return"fontSize20";case"sizeIcon80":return"fontSize30";case"sizeIcon90":return"fontSize40";case"sizeIcon100":return"fontSize60";case"sizeIcon110":return"fontSize70"}throw new Error("[Avatar]: size must be of type IconSizeOptions.")},y=e=>{if(typeof e=="string"&&e.includes("sizeIcon"))switch(e){case"sizeIcon10":case"sizeIcon20":case"sizeIcon30":case"sizeIcon40":default:return"sizeIcon10";case"sizeIcon50":case"sizeIcon60":return"sizeIcon20";case"sizeIcon70":return"sizeIcon30";case"sizeIcon80":return"sizeIcon40";case"sizeIcon90":return"sizeIcon50";case"sizeIcon100":return"sizeIcon70";case"sizeIcon110":return"sizeIcon80"}throw new Error("[Avatar]: size must be of type IconSizeOptions.")},A=e=>{if(typeof e=="string")return{lineHeight:S(e),fontSize:h(e),iconSize:y(e)};if(Array.isArray(e))return{lineHeight:e.map(t=>t!=null?S(t):null),fontSize:e.map(t=>t!=null?h(t):null),iconSize:e.map(t=>t!=null?y(t):null)};throw new Error("[Avatar]: size must be a string or an array")};var v="sizeIcon70",w=({name:e,size:t=v,src:n,icon:o})=>{let i=A(t);if(o!=null){if(typeof o!="function"||typeof o.displayName!="string"||!o.displayName.includes("Icon"))throw new Error("[Paste Avatar]: icon prop expected to be a Paste icon only.");return r.createElement(c,{maxWidth:"100%",size:t,display:"flex",alignItems:"center",justifyContent:"center"},r.createElement(o,{decorative:!1,title:e,size:i.iconSize}))}return n!=null?r.createElement(c,{as:"img",alt:e,maxWidth:"100%",src:n,size:t,title:e}):r.createElement(C,{as:"abbr",display:"block",fontSize:i.fontSize,fontWeight:"fontWeightBold",lineHeight:i.lineHeight,textAlign:"center",textDecoration:"none",title:e,color:"inherit"},g(e))},x=r.forwardRef((k,T)=>{var l=k,{name:e,children:t,size:n=v,element:o="AVATAR",src:i,icon:p}=l,P=d(l,["name","children","size","element","src","icon"]);return e===void 0&&console.error("[Paste Avatar]: name prop is required"),i&&p?(console.error("[Paste Avatar]: do not set both src and icon on Avatar"),null):r.createElement(c,m(I({},E(P)),{as:"div",element:o,backgroundColor:"colorBackgroundUser",borderRadius:"borderRadiusCircle",overflow:"hidden",ref:T,size:n,color:"colorText"}),i?r.createElement(w,{name:e,size:n,src:i}):r.createElement(w,{name:e,size:n,icon:p}))});x.displayName="Avatar";x.propTypes={size:F,name:a.string.isRequired,element:a.string,src:e=>(e.src&&e.icon&&new Error("[Paste Avatar]: do not set both src and icon on Avatar"),typeof e.src!="string"&&new Error("[Paste Avatar]: src prop must be a string"),null),icon:e=>(e.src&&e.icon&&new Error("[Paste Avatar]: do not set both src and icon on Avatar"),typeof e.icon!="function"&&new Error("[Paste Avatar]: icon prop must be a Paste Icon"),null)};export{x as Avatar};
