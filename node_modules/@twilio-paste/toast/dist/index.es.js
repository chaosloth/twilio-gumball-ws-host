var Q=Object.defineProperty,Y=Object.defineProperties;var Z=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var F=(e,o,r)=>o in e?Q(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,i=(e,o)=>{for(var r in o||(o={}))V.call(o,r)&&F(e,r,o[r]);if(w)for(var r of w(o))q.call(o,r)&&F(e,r,o[r]);return e},m=(e,o)=>Y(e,Z(o));var d=(e,o)=>{var r={};for(var t in e)V.call(e,t)&&o.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&w)for(var t of w(e))o.indexOf(t)<0&&q.call(e,t)&&(r[t]=e[t]);return r};import*as n from"react";import{Button as ur}from"@twilio-paste/button";import{CloseIcon as yr}from"@twilio-paste/icons/esm/CloseIcon";import{ErrorIcon as gr}from"@twilio-paste/icons/esm/ErrorIcon";import{NeutralIcon as Pr}from"@twilio-paste/icons/esm/NeutralIcon";import{SuccessIcon as Rr}from"@twilio-paste/icons/esm/SuccessIcon";import{WarningIcon as br}from"@twilio-paste/icons/esm/WarningIcon";import{MediaObject as hr,MediaFigure as J,MediaBody as xr}from"@twilio-paste/media-object";import*as E from"react";import"prop-types";import{Box as ir}from"@twilio-paste/box";var rr=Object.defineProperty,er=Object.defineProperties,or=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,X=(e,o,r)=>o in e?rr(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,tr=(e,o)=>{for(var r in o||(o={}))U.call(o,r)&&X(e,r,o[r]);if(C)for(var r of C(o))$.call(o,r)&&X(e,r,o[r]);return e},sr=(e,o)=>er(e,or(o)),ar=(e,o)=>{var r={};for(var t in e)U.call(e,t)&&o.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&C)for(var t of C(e))o.indexOf(t)<0&&$.call(e,t)&&(r[t]=e[t]);return r},j=E.forwardRef((e,o)=>{var r=e,{as:t="span",children:p}=r,s=ar(r,["as","children"]);return E.createElement(ir,sr(tr({},s),{as:t,border:"none",clip:"rect(0 0 0 0)",height:"1px",margin:"spaceNegative10",overflow:"hidden",padding:"space0",position:"absolute",ref:o,textTransform:"none",whiteSpace:"nowrap",width:"1px"}),p)});j.displayName="ScreenReaderOnly";import*as W from"react";import{Box as nr,safelySpreadBoxProps as pr}from"@twilio-paste/box";import*as a from"prop-types";var g={ERROR:"error",NEUTRAL:"neutral",SUCCESS:"success",WARNING:"warning"};var T={children:a.node.isRequired,onDismiss:a.func,variant:a.oneOf(["error","neutral","success","warning"]),i18nDismissLabel:a.string,i18nErrorLabel:a.string,i18nNeutralLabel:a.string,i18nSuccessLabel:a.string,i18nWarningLabel:a.string},Fr={children:a.node.isRequired,__console_patch:a.bool},G={children:a.node.isRequired,__console_patch:a.bool},Ur={toasts:a.arrayOf(a.shape({id:a.string.isRequired,message:a.node.isRequired,setFocus:a.bool,variant:a.oneOf(Object.values(g)).isRequired})).isRequired,pop:a.func.isRequired,__console_patch:a.bool};var N=W.forwardRef((p,t)=>{var s=p,{element:e="TOAST",variant:o}=s,r=d(s,["element","variant"]);return W.createElement(nr,m(i({},pr(r)),{ref:t,backgroundColor:"colorBackgroundBody",borderColor:"colorBorderWeaker",borderRadius:"borderRadius20",borderStyle:"solid",borderWidth:"borderWidth10",borderLeftWidth:"borderWidth30",borderLeftColor:"colorBorderErrorWeak",boxShadow:"shadowHigh",element:e,padding:"space60",variant:o,width:"size40"}),r.children)});N.displayName="ErrorToast";N.propTypes=T;import*as I from"react";import{Box as cr,safelySpreadBoxProps as dr}from"@twilio-paste/box";var k=I.forwardRef((p,t)=>{var s=p,{element:e="TOAST",variant:o}=s,r=d(s,["element","variant"]);return I.createElement(cr,m(i({},dr(r)),{ref:t,backgroundColor:"colorBackgroundBody",borderColor:"colorBorderWeaker",borderRadius:"borderRadius20",borderStyle:"solid",borderWidth:"borderWidth10",borderLeftWidth:"borderWidth30",borderLeftColor:"colorBorderNeutralWeak",boxShadow:"shadowHigh",element:e,padding:"space60",variant:o,width:"size40"}),r.children)});k.displayName="NeutralToast";k.propTypes=T;import*as L from"react";import{Box as lr,safelySpreadBoxProps as mr}from"@twilio-paste/box";var M=L.forwardRef((p,t)=>{var s=p,{element:e="TOAST",variant:o}=s,r=d(s,["element","variant"]);return L.createElement(lr,m(i({},mr(r)),{ref:t,backgroundColor:"colorBackgroundBody",borderColor:"colorBorderWeaker",borderRadius:"borderRadius20",borderStyle:"solid",borderWidth:"borderWidth10",borderLeftWidth:"borderWidth30",borderLeftColor:"colorBorderSuccessWeak",boxShadow:"shadowHigh",element:e,padding:"space60",variant:o,width:"size40"}),r.children)});M.displayName="SuccessToast";M.propTypes=T;import*as _ from"react";import{Box as fr,safelySpreadBoxProps as Tr}from"@twilio-paste/box";var z=_.forwardRef((p,t)=>{var s=p,{element:e="TOAST",variant:o}=s,r=d(s,["element","variant"]);return _.createElement(fr,m(i({},Tr(r)),{ref:t,backgroundColor:"colorBackgroundBody",borderColor:"colorBorderWeaker",borderRadius:"borderRadius20",borderStyle:"solid",borderWidth:"borderWidth10",borderLeftWidth:"borderWidth30",borderLeftColor:"colorBorderWarningWeak",boxShadow:"shadowHigh",element:e,padding:"space60",variant:o,width:"size40"}),r.children)});z.displayName="WarningToast";z.propTypes=T;var Sr={error:N,neutral:k,success:M,warning:z},vr=(e,o,r)=>{switch(e){case g.ERROR:return n.createElement(gr,{color:"colorTextIconError",decorative:!1,title:o,element:`${r}_ICON`,size:"sizeIcon20"});case g.SUCCESS:return n.createElement(Rr,{color:"colorTextIconSuccess",decorative:!1,title:o,element:`${r}_ICON`,size:"sizeIcon20"});case g.WARNING:return n.createElement(br,{color:"colorTextIconWarning",decorative:!1,title:o,element:`${r}_ICON`,size:"sizeIcon20"});case g.NEUTRAL:default:return n.createElement(Pr,{color:"colorTextIconNeutral",decorative:!1,title:o,element:`${r}_ICON`,size:"sizeIcon20"})}},D=n.forwardRef((B,H)=>{var l=B,{children:e,onDismiss:o,variant:r="neutral",element:t="TOAST",setFocus:p,i18nDismissLabel:s="Dismiss toast",i18nErrorLabel:u="(error)",i18nNeutralLabel:c="(information)",i18nSuccessLabel:P="(success)",i18nWarningLabel:R="(warning)"}=l,b=d(l,["children","onDismiss","variant","element","setFocus","i18nDismissLabel","i18nErrorLabel","i18nNeutralLabel","i18nSuccessLabel","i18nWarningLabel"]);let A=Sr[r],S=n.useRef(null);n.useEffect(()=>{p&&S.current&&S.current.focus({preventScroll:!0})},[p]);let y={error:u,neutral:c,success:P,warning:R};return n.createElement(A,i({role:"status",variant:r,element:t,ref:H},b),n.createElement(hr,{as:"div"},n.createElement(J,{as:"div",spacing:"space60"},vr(r,y[r],t)),n.createElement(xr,{as:"div"},e),o&&typeof o=="function"&&n.createElement(J,{align:"end",spacing:"space40"},n.createElement(ur,{onClick:o,variant:"secondary_icon",ref:S,size:"reset",element:`${t}_CLOSE_BUTTON`},n.createElement(yr,{decorative:!0,size:"sizeIcon20",element:`${t}_CLOSE_ICON`}),n.createElement(j,null,s)))))});D.displayName="Toast";D.propTypes=T;import*as O from"react";import{Stack as Er}from"@twilio-paste/stack";import*as h from"react";import{StyledBase as Or}from"@twilio-paste/theme";import{Portal as Br}from"@twilio-paste/reakit-library";import{Box as wr,safelySpreadBoxProps as Cr}from"@twilio-paste/box";var v=h.forwardRef((p,t)=>{var s=p,{children:e,__console_patch:o}=s,r=d(s,["children","__console_patch"]);return h.createElement(Br,null,h.createElement(Or,null,h.createElement(wr,m(i({},Cr(r)),{position:"fixed",right:"space40",top:"space90",zIndex:"zIndex90",ref:t,style:o?{zIndex:1999}:void 0}),e)))});v.displayName="ToastPortal";var K=O.forwardRef((t,r)=>{var p=t,{children:e}=p,o=d(p,["children"]);return O.createElement(v,i({},o),O.createElement(Er,{orientation:"vertical",spacing:"space40",ref:r},e))});K.displayName="ToastContainer";K.propTypes=G;import*as f from"react";import{useTransition as Wr,animated as Nr,useReducedMotion as Ir}from"@twilio-paste/animation-library";import{useTheme as kr}from"@twilio-paste/theme";import{Box as Lr}from"@twilio-paste/box";var Mr=Nr(Lr),_r=t=>{var p=t,{toasts:e,pop:o}=p,r=d(p,["toasts","pop"]);let s=Ir(),[u]=f.useState(()=>new WeakMap),[c,P]=f.useState({trigger:null}),R=kr(),b=Wr(e,{from:{marginBottom:"0rem",opacity:0,transform:"translateX(100%) scale(1)",height:s?"auto":0},enter:s?{marginBottom:R.space.space40,opacity:1,transform:"translateX(0px) scale(1)"}:B=>async l=>{await l({marginBottom:R.space.space40,opacity:1,transform:"translateX(0px) scale(1)",height:u.get(B).offsetHeight})},leave:{marginBottom:"0rem",opacity:0,transform:"translateX(0px) scale(0.8)",height:s?"auto":0},config:{mass:1,tension:150,friction:20}}),H=f.useCallback(()=>{P({trigger:null})},[c]);return f.useEffect(()=>{c.trigger!=null&&e.length===0&&(c.trigger.focus(),H())},[e]),f.createElement(v,i({},r),b((B,l,A,S)=>f.createElement(Mr,{as:"div",key:A.key,style:B},f.createElement(D,m(i({key:l.id},l),{onDismiss:()=>{l.onDismiss!=null&&l.onDismiss(),o(l.id)},ref:y=>{y!=null&&u.set(l,y)},setFocus:S===0,onFocus:y=>{y.relatedTarget&&!c.trigger&&P({trigger:y.relatedTarget})}}),l.message))))};_r.displayName="Toaster";import*as x from"react";import{uid as zr}from"@twilio-paste/uid-library";var Me=()=>{let e=x.useRef(null),[o,r]=x.useState([]);x.useEffect(()=>(e.current=!0,()=>{e.current=!1,o.forEach(s=>{s.timeOutId&&window.clearTimeout(s.timeOutId)})}),[]);let t=s=>{!e.current||r(u=>u.filter(c=>(c.id===s&&(c.timeOutId&&window.clearTimeout(c.timeOutId),c.onDismiss&&c.onDismiss()),c.id!==s)))};return{toasts:o,push:s=>{if(!e.current)return;let u=zr(s),c;s.dismissAfter!=null&&Number.isInteger(s.dismissAfter)&&(c=window.setTimeout(t,s.dismissAfter,s.id||u));let P=o.map(R=>{let b=R;return b.setFocus=!1,b});r([i({id:u,timeOutId:c,setFocus:!0},s),...P])},pop:t}};export{Mr as AnimatedToast,D as Toast,K as ToastContainer,_r as Toaster,Me as useToaster};
