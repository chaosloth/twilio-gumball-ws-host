var k=Object.defineProperty,L=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var B=(e,o,r)=>o in e?k(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,a=(e,o)=>{for(var r in o||(o={}))b.call(o,r)&&B(e,r,o[r]);if(y)for(var r of y(o))h.call(o,r)&&B(e,r,o[r]);return e},l=(e,o)=>L(e,w(o));var p=(e,o)=>{var r={};for(var t in e)b.call(e,t)&&o.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&y)for(var t of y(e))o.indexOf(t)<0&&h.call(e,t)&&(r[t]=e[t]);return r};import*as m from"react";import{useDisclosurePrimitiveState as O}from"@twilio-paste/disclosure-primitive";import{Box as _,safelySpreadBoxProps as M}from"@twilio-paste/box";import{Card as F}from"@twilio-paste/card";import*as H from"react";var u=H.createContext({});var A=m.forwardRef((x,i)=>{var n=x,{children:e,element:o="DISCLOSURE",variant:r="default",state:t}=n,s=p(n,["children","element","variant","state"]);let f={disclosure:t||O(a({animated:!0},s)),variant:r};return r==="contained"?m.createElement(u.Provider,{value:f},m.createElement(F,l(a({},s),{variant:r,element:o,padding:"space0",ref:i}),e)):m.createElement(u.Provider,{value:f},m.createElement(_,l(a({},M(s)),{variant:r,element:o,ref:i}),e))});A.displayName="Disclosure";import*as c from"react";import{useTheme as $}from"@twilio-paste/theme";import{Box as I,safelySpreadBoxProps as G}from"@twilio-paste/box";import{Heading as U}from"@twilio-paste/heading";import{ChevronDisclosureExpandedIcon as V}from"@twilio-paste/icons/esm/ChevronDisclosureExpandedIcon";import{DisclosurePrimitive as X}from"@twilio-paste/disclosure-primitive";import*as v from"react";var S=(e,o,r,t,s)=>{if(!t){let i=s.space20;return(o==="heading40"||o==="heading50"||o==="heading60")&&(i=s.space10),{color:e?"colorText":"colorTextIcon",transform:`${e?`translateX(${i})`:"translateX(0)"} ${r?"rotate(0deg)":"rotate(-90deg)"}`,transition:"transform 200ms ease-out"}}return{color:"colorTextIcon"}},T=e=>{let[o,r]=v.useState(!1),t=()=>r(!0),s=()=>r(!1);return v.useEffect(()=>{let i=e==null?void 0:e.current;if(i)return i.addEventListener("mouseover",t),i.addEventListener("mouseout",s),()=>{i.removeEventListener("mouseover",t),i.removeEventListener("mouseout",s)}},[e]),o};var C={heading10:"sizeIcon90",heading20:"sizeIcon70",heading30:"sizeIcon60",heading40:"sizeIcon40",heading50:"sizeIcon30",heading60:"sizeIcon20"};var E=c.forwardRef((ee,f)=>{var P=ee,{children:e,element:o,marginBottom:r,renderAs:t,disclosureVariant:s,customDisabled:i,customFocusable:x,variant:n}=P,d=p(P,["children","element","marginBottom","renderAs","disclosureVariant","customDisabled","customFocusable","variant"]);let z=$(),R=c.useRef(null),N=T(R),D="borderRadius20";return s==="contained"&&(D="borderRadius10"),s==="contained"&&d["aria-expanded"]&&(D="borderRadius0"),c.createElement(U,{as:t,marginBottom:"space0",variant:n,ref:f},c.createElement(I,l(a({},G(d)),{as:"div",backgroundColor:d["aria-expanded"]?"colorBackground":"colorBackgroundBody",borderRadius:s==="contained"?"borderRadius10":"borderRadius20",borderBottomLeftRadius:D,borderBottomRightRadius:D,cursor:"pointer",display:"flex",element:o,outline:"none",padding:"space30",position:"relative",ref:R,role:"button",zIndex:"zIndex10",transition:"background-color 100ms ease-out",_hover:{backgroundColor:"colorBackgroundStrong"},_focus:{boxShadow:"shadowFocus"},_disabled:{backgroundColor:d["aria-expanded"]?"colorBackground":"colorBackgroundBody",color:"colorTextWeak",cursor:"not-allowed"}}),c.createElement(I,a({as:"span",element:`${o}_ICON`,display:"flex",height:C[n]||"sizeIcon20",width:C[n]||"sizeIcon20"},S(N,n,d["aria-expanded"],d["aria-disabled"],z.space)),c.createElement(V,{color:"inherit",decorative:!0,size:C[n]||"sizeIcon20"})),e))});E.displayName="StyledDisclosureHeading";var j=x=>{var n=x,{children:e,as:o,element:r="DISCLOSURE_HEADING",disabled:t,focusable:s}=n,i=p(n,["children","as","element","disabled","focusable"]);let{disclosure:d,variant:f}=c.useContext(u);return c.createElement(X,l(a(a({},d),i),{as:E,customDisabled:t,customFocusable:s,disabled:t,disclosureVariant:f,element:r,focusable:s,renderAs:o}),e)};j.displayName="DisclosureHeading";import*as g from"react";import{useSpring as W,animated as q}from"@twilio-paste/animation-library";import{Box as J,safelySpreadBoxProps as K}from"@twilio-paste/box";import{DisclosurePrimitiveContent as Q}from"@twilio-paste/disclosure-primitive";var Y=q(J),Z=g.forwardRef((i,s)=>{var x=i,{children:e,element:o="DISCLOSURE_CONTENT",visible:r}=x,t=p(x,["children","element","visible"]);let{disclosure:n}=g.useContext(u),{opacity:d}=W({opacity:n.visible?1:0,onRest:n.stopAnimation,config:{mass:1,tension:150,friction:20,duration:100}});return g.createElement(Q,l(a(a({},n),K(t)),{as:Y,element:o,backgroundColor:"colorBackgroundBody",padding:"space50",ref:s,style:{opacity:d}}),e)});Z.displayName="DisclosureContent";export{Y as AnimatedDisclosureContent,A as Disclosure,Z as DisclosureContent,j as DisclosureHeading,O as useDisclosureState};
